<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">ol{margin:0;padding:0}table td,table th{padding:0}.c4{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c0{orphans:2;widows:2}.c1{margin-left:36pt;text-indent:36pt}.c2{height:11pt}.c3{text-indent:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c4"><p class="c0"><span>// assigns float values to each pixel in the mask array for the spray can tool.</span></p><p class="c0"><span>for (i = 0; i &lt; maskSize; i++) </span></p><p class="c0"><span>{</span></p><p class="c0 c3"><span>for (j = 0; j &lt; maskSize; j++) </span></p><p class="c0 c3"><span>{</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;float distance = calculateDistance(i, j, 20.0);</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (distance &gt;= 20.0) </span></p><p class="c0 c1"><span>{</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[i][j] = 0;</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else </span></p><p class="c0 c1"><span>{</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mask[i][j] = (20.0 - distance) * .01;</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span></p><p class="c0"><span>}</span></p><p class="c0 c2"><span></span></p><p class="c0"><span>----------------------------------------------------------------------------------------------------------------------------</span></p><p class="c0 c2"><span></span></p><p class="c0"><span>// uses the distance formula to calculate the distance between two pixels</span></p><p class="c0"><span>float Tool::calculateDistance(int x, int y, float mid) </span></p><p class="c0"><span>{</span></p><p class="c0 c3"><span>return sqrt(pow(((float) x - mid), 2) + pow(((float) y - mid), 2));</span></p><p class="c0"><span>}</span></p><p class="c0 c2"><span></span></p><p class="c0 c2"><span></span></p><p class="c0 c3"><span>The first piece of code given above is inside the SprayCan class. It is the for-loop that is responsible for creating the mask of the spray can tool. The mask is the array of pixels that is affected by each tool and determines how much each pixel will be colored in. The second piece of code below it is a function inside the Tool superclass that is used in the for-loop mentioned above. It calculates the distance of the current pixel in the array from the center of the mask. This function is extremely useful for any tool that has a circular shape to it. It has the potential to save a lot of time for programmers due to not having to replicate code in many tool classes.</span></p><p class="c0 c3"><span>Going into the code in further detail, the double for-loop iterates through a square or 2D-array of floats that determine the mask of the tool. Each float in the array is assigned a value that represents the opacity of that pixel. In this instance, for the spray can tool, if the current pixel in the array is greater than 20 pixels away from the center of the mask, it is given a value of zero. This means that when you are using the spray can tool and you click down to color in a designated area, no pixel that is 20 pixels away from your mouse location will be affected. If however, the pixel in the array is less than 20 pixels away from the center of the mask, it applies a simple math formula that gives pixels farther away from the center a smaller value than the pixels that are closer to the center. For example, say that the current pixel in the array is 15 pixels away from the center of the mask. 20 - 15 = 5 * .01 = 0.05. This specific pixel would get an opacity value of 0.05 out of 1. A pixel that is 2 pixels away from the center of the mask would receive a value of 0.18. This gives the spray can tool its visual effect of looking just like you were using a spray can in real life.</span></p><p class="c0"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The double for-loop is also very similar to the one in the Eraser class, the only difference being a few changes in numbers. The eraser tool is a lot simpler than the spray can tool, however. A good way to view it is think about it in a binary sort of way. If the pixel is greater than 10 pixels away from the center of the mask, the value of that float in the array will be 0. If it is less than 10 pixels away from the center, the value of the float will be 1.</span></p></body></html>
